<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harshvardhan Shah - Portfolio Chat</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        :root {
          --primary-color: #075e54;
          --secondary-color: #128c7e;
          --accent-color: #25d366;
          --bg-color: #f0f2f5;
          --chat-bg: #e5ddd5;
          --white: #ffffff;
          --text-primary: #111b21;
          --text-secondary: #667781;
          --sent-msg: #d9fdd3;
          --received-msg: #ffffff;
          --border-color: #e9edef;
          --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
          --shadow-heavy: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        [data-theme="dark"] {
          --bg-color: #111b21;
          --chat-bg: #0b141a;
          --white: #2a3942;
          --text-primary: #e9edef;
          --text-secondary: #8696a0;
          --sent-msg: #005c4b;
          --received-msg: #202c33;
          --border-color: #2a3942;
        }

        body {
          font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
          background: var(--bg-color);
          color: var(--text-primary);
          height: 100vh;
          overflow: hidden;
        }

        .chat-container {
          display: flex;
          flex-direction: column;
          height: 100vh;
          max-width: 1200px;
          margin: 0 auto;
          background: var(--white);
          box-shadow: var(--shadow-heavy);
        }

        /* Header Styles */
        .chat-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 10px 16px;
          background: var(--primary-color);
          color: white;
          box-shadow: var(--shadow);
          min-height: 60px;
        }

        .profile-section {
          display: flex;
          align-items: center;
          cursor: pointer;
          transition: opacity 0.2s;
        }

        .profile-section:hover {
          opacity: 0.8;
        }

        .profile-pic {
          position: relative;
          margin-right: 12px;
        }

        .profile-pic img {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          object-fit: cover;
        }

        .online-indicator {
          position: absolute;
          bottom: 2px;
          right: 2px;
          width: 12px;
          height: 12px;
          background: var(--accent-color);
          border: 2px solid white;
          border-radius: 50%;
        }

        .profile-info h3 {
          font-size: 16px;
          font-weight: 500;
          margin-bottom: 2px;
        }

        .profile-info p {
          font-size: 13px;
          opacity: 0.8;
        }

        .header-actions {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .action-btn {
          background: none;
          border: none;
          color: white;
          padding: 8px;
          border-radius: 50%;
          cursor: pointer;
          transition: background-color 0.2s;
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .action-btn:hover {
          background: rgba(255, 255, 255, 0.1);
        }

        .dropdown {
          position: relative;
        }

        .dropdown-menu {
          position: absolute;
          top: 100%;
          right: 0;
          background: var(--white);
          border-radius: 8px;
          box-shadow: var(--shadow-heavy);
          min-width: 150px;
          display: none;
          z-index: 1000;
          overflow: hidden;
        }

        .dropdown:hover .dropdown-menu {
          display: block;
        }

        .dropdown-menu a {
          display: block;
          padding: 12px 16px;
          color: var(--text-primary);
          text-decoration: none;
          transition: background-color 0.2s;
        }

        .dropdown-menu a:hover {
          background: var(--bg-color);
        }

        /* Chat Body */
        .chat-body {
          flex: 1;
          background: var(--chat-bg);
          overflow-y: auto;
          padding: 20px;
          background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .welcome-message {
          text-align: center;
          padding: 40px 20px;
          background: var(--white);
          border-radius: 12px;
          margin-bottom: 20px;
          box-shadow: var(--shadow);
        }

        .welcome-avatar img {
          width: 60px;
          height: 60px;
          border-radius: 50%;
          margin-bottom: 16px;
        }

        .welcome-message h4 {
          font-size: 18px;
          margin-bottom: 8px;
          color: var(--text-primary);
        }

        .welcome-message p {
          color: var(--text-secondary);
          margin-bottom: 20px;
        }

        .quick-actions {
          display: flex;
          gap: 10px;
          justify-content: center;
          flex-wrap: wrap;
        }

        .quick-btn {
          background: var(--accent-color);
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 20px;
          cursor: pointer;
          font-size: 12px;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .quick-btn:hover {
          background: var(--secondary-color);
          transform: translateY(-1px);
        }

        #listUL {
          list-style: none;
          padding: 0;
        }

        #listUL li {
          margin-bottom: 12px;
          animation: fadeInUp 0.3s ease;
        }

        .sent,
        .received {
          display: flex;
          margin-bottom: 8px;
        }

        .sent {
          justify-content: flex-end;
        }

        .received {
          justify-content: flex-start;
        }

        .green,
        .grey {
          max-width: 70%;
          padding: 8px 12px;
          border-radius: 12px;
          position: relative;
          word-wrap: break-word;
          box-shadow: var(--shadow);
          line-height: 1.4;
        }

        .green {
          background: var(--sent-msg);
          border-bottom-right-radius: 4px;
        }

        .grey {
          background: var(--received-msg);
          border-bottom-left-radius: 4px;
        }

        .dateLabel {
          font-size: 11px;
          color: var(--text-secondary);
          margin-top: 4px;
          display: block;
          text-align: right;
        }

        .grey .dateLabel {
          text-align: left;
        }

        .typing-indicator {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          background: var(--received-msg);
          border-radius: 12px;
          margin: 12px 0;
          max-width: 200px;
        }

        .typing-dots {
          display: flex;
          gap: 4px;
        }

        .typing-dots span {
          width: 8px;
          height: 8px;
          background: var(--text-secondary);
          border-radius: 50%;
          animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dots span:nth-child(2) {
          animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
          animation-delay: 0.4s;
        }

        /* Chat Input */
        .chat-input {
          padding: 12px 16px;
          background: var(--white);
          border-top: 1px solid var(--border-color);
          position: relative;
        }

        .input-container {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .attachment-btn,
        .emoji-btn,
        .send-btn,
        .voice-btn {
          background: none;
          border: none;
          color: var(--text-secondary);
          padding: 8px;
          border-radius: 50%;
          cursor: pointer;
          transition: all 0.2s;
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .attachment-btn:hover,
        .emoji-btn:hover,
        .voice-btn:hover {
          background: var(--bg-color);
          color: var(--text-primary);
        }

        .send-btn {
          background: var(--accent-color);
          color: white;
        }

        .send-btn:hover {
          background: var(--secondary-color);
        }

        .input-wrapper {
          flex: 1;
          display: flex;
          align-items: center;
          background: var(--bg-color);
          border-radius: 24px;
          padding: 0 16px;
        }

        #inputMSG {
          flex: 1;
          border: none;
          background: none;
          padding: 12px 0;
          font-size: 14px;
          color: var(--text-primary);
          outline: none;
        }

        #inputMSG::placeholder {
          color: var(--text-secondary);
        }

        .attachment-menu,
        .emoji-picker {
          position: absolute;
          bottom: 100%;
          left: 16px;
          background: var(--white);
          border-radius: 12px;
          box-shadow: var(--shadow-heavy);
          padding: 12px;
          margin-bottom: 8px;
          z-index: 100;
        }

        .attachment-menu {
          display: flex;
          gap: 12px;
        }

        .attachment-option {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 6px;
          background: none;
          border: none;
          padding: 12px;
          border-radius: 8px;
          cursor: pointer;
          transition: background-color 0.2s;
          color: var(--text-primary);
        }

        .attachment-option:hover {
          background: var(--bg-color);
        }

        .attachment-option i {
          font-size: 20px;
          color: var(--accent-color);
        }

        .emoji-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 8px;
        }

        .emoji-grid span {
          padding: 8px;
          border-radius: 6px;
          cursor: pointer;
          text-align: center;
          font-size: 18px;
          transition: background-color 0.2s;
        }

        .emoji-grid span:hover {
          background: var(--bg-color);
        }

        /* Full Screen Overlay */
        .fullscreen-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.9);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 2000;
        }

        .fullscreen-content {
          text-align: center;
          color: white;
          position: relative;
        }

        .fullscreen-content img {
          width: 300px;
          height: 300px;
          border-radius: 50%;
          object-fit: cover;
          margin-bottom: 20px;
        }

        .profile-details h2 {
          font-size: 24px;
          margin-bottom: 8px;
        }

        .profile-details p {
          font-size: 16px;
          opacity: 0.8;
          margin-bottom: 4px;
        }

        .close-btn {
          position: absolute;
          top: -20px;
          right: -20px;
          background: rgba(255, 255, 255, 0.2);
          border: none;
          color: white;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          cursor: pointer;
          font-size: 18px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        /* Toast Notification */
        .toast {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          background: var(--text-primary);
          color: var(--white);
          padding: 12px 24px;
          border-radius: 24px;
          opacity: 0;
          transition: opacity 0.3s;
          z-index: 1000;
        }

        .toast.show {
          opacity: 1;
        }

        /* Animations */
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes typing {
          0%,
          60%,
          100% {
            transform: translateY(0);
          }
          30% {
            transform: translateY(-10px);
          }
        }

        /* Social Links Styling */
        .social {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
          justify-content: center;
          margin: 12px 0;
        }

        .socialItem {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 12px;
          background: var(--bg-color);
          border-radius: 20px;
          text-decoration: none;
          color: var(--text-primary);
          transition: all 0.2s;
          border: 1px solid var(--border-color);
        }

        .socialItem:hover {
          background: var(--accent-color);
          color: white;
          transform: translateY(-2px);
        }

        .socialItemI {
          width: 20px;
          height: 20px;
        }

        .number {
          font-weight: 500;
        }

        /* Skills and content styling */
        .sk {
          line-height: 1.6;
        }

        .bold {
          font-weight: 600;
          color: var(--accent-color);
        }

        .alink {
          color: var(--accent-color);
          text-decoration: none;
        }

        .alink:hover {
          text-decoration: underline;
        }

        /* Map styling */
        .mapview {
          margin: 12px 0;
          border-radius: 12px;
          overflow: hidden;
        }

        .map {
          width: 100%;
          height: 200px;
          border: none;
        }

        .add {
          display: block;
          margin-top: 8px;
          padding: 8px;
          background: var(--bg-color);
          border-radius: 8px;
          font-style: normal;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .chat-container {
            height: 100vh;
            border-radius: 0;
          }

          .quick-actions {
            flex-direction: column;
            align-items: center;
          }

          .quick-btn {
            width: 100%;
            max-width: 200px;
            justify-content: center;
          }

          .green,
          .grey {
            max-width: 85%;
          }

          .fullscreen-content img {
            width: 250px;
            height: 250px;
          }

          .attachment-menu {
            flex-direction: column;
            align-items: center;
          }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <!-- Header -->
        <div class="chat-header">
            <div class="profile-section" onclick="openFullScreenDP()">
                <div class="profile-pic">
                    <img src="harshprofile.jpg" alt="Profile" id="profileImg">
                    <div class="online-indicator"></div>
                </div>
                <div class="profile-info">
                    <h3>Harshvardhan Shah</h3>
                    <p id="lastseen">last seen recently</p>
                </div>
            </div>
            <div class="header-actions">
                <button class="action-btn" onclick="toggleTheme()" title="Toggle Theme">
                    <i class="fas fa-moon" id="themeIcon"></i>
                </button>
                <button class="action-btn" onclick="clearChat()" title="Clear Chat">
                    <i class="fas fa-trash"></i>
                </button>
                <div class="dropdown">
                    <button class="action-btn dropdown-toggle" title="More Options">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                    <div class="dropdown-menu">
                        <a href="#" onclick="downloadChat()">Download Chat</a>
                        <a href="#" onclick="shareProfile()">Share Profile</a>
                        <a href="#" onclick="toggleNotifications()">Toggle Notifications</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Messages -->
        <div class="chat-body" id="chatting">
            <div class="welcome-message" id="welcomeMessage">
                <div class="welcome-avatar">
                    <img src="harshprofile.jpg" alt="Welcome">
                </div>
                <h4>Welcome to my Portfolio Chat!</h4>
                <p>Hi! I'm Harshvardhan Shah. Ask me anything about my skills, projects, or experience.</p>
                <div class="quick-actions">
                    <button class="quick-btn" onclick="sendQuickMessage('help')">
                        <i class="fas fa-question-circle"></i> Help
                    </button>
                    <button class="quick-btn" onclick="sendQuickMessage('skills')">
                        <i class="fas fa-code"></i> Skills
                    </button>
                    <button class="quick-btn" onclick="sendQuickMessage('projects')">
                        <i class="fas fa-project-diagram"></i> Projects
                    </button>
                    <button class="quick-btn" onclick="sendQuickMessage('contact')">
                        <i class="fas fa-phone"></i> Contact
                    </button>
                </div>
            </div>
            <ul id="listUL"></ul>
            <div class="typing-indicator" id="typingIndicator" style="display: none;">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <span>Harshvardhan is typing...</span>
            </div>
        </div>

        <!-- Input Area -->
        <div class="chat-input">
            <div class="input-container">
                <button class="attachment-btn" onclick="toggleAttachmentMenu()" title="Attach">
                    <i class="fas fa-paperclip"></i>
                </button>
                <div class="input-wrapper">
                    <input type="text" id="inputMSG" placeholder="Type a message..." onkeypress="isEnter(event)" autocomplete="off">
                    <button class="emoji-btn" onclick="toggleEmojiPicker()" title="Emoji">
                        <i class="fas fa-smile"></i>
                    </button>
                </div>
                <button class="send-btn" onclick="sendMsg()" title="Send">
                    <i class="fas fa-paper-plane"></i>
                </button>
                <button class="voice-btn" onclick="toggleVoiceRecording()" title="Voice Message">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
            
            <!-- Attachment Menu -->
            <div class="attachment-menu" id="attachmentMenu" style="display: none;">
                <button class="attachment-option" onclick="sendQuickMessage('resume')">
                    <i class="fas fa-file-pdf"></i>
                    <span>Resume</span>
                </button>
                <button class="attachment-option" onclick="sendQuickMessage('projects')">
                    <i class="fas fa-folder"></i>
                    <span>Portfolio</span>
                </button>
                <button class="attachment-option" onclick="sendQuickMessage('contact')">
                    <i class="fas fa-address-card"></i>
                    <span>Contact Card</span>
                </button>
            </div>

            <!-- Emoji Picker -->
            <div class="emoji-picker" id="emojiPicker" style="display: none;">
                <div class="emoji-grid">
                    <span onclick="addEmoji('üëã')">üëã</span>
                    <span onclick="addEmoji('üòä')">üòä</span>
                    <span onclick="addEmoji('üëç')">üëç</span>
                    <span onclick="addEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
                    <span onclick="addEmoji('üöÄ')">üöÄ</span>
                    <span onclick="addEmoji('üíª')">üíª</span>
                    <span onclick="addEmoji('üéØ')">üéØ</span>
                    <span onclick="addEmoji('‚≠ê')">‚≠ê</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Full Screen Profile Picture -->
    <div class="fullscreen-overlay" id="fullScreenDP" onclick="closeFullDP()" style="display: none;">
        <div class="fullscreen-content" onclick="event.stopPropagation()">
            <img src="harshprofile.jpg" alt="Profile Picture">
            <div class="profile-details">
                <h2>Harshvardhan Shah</h2>
                <p>Electronics Engineering Student</p>
                <p>K.K. Wagh Institute, Nashik</p>
            </div>
            <button class="close-btn" onclick="closeFullDP()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast" id="toast"></div>

    <script>
        // Enhanced JavaScript with better error handling
        let currentTheme = localStorage.getItem("theme") || "light"
        let notificationsEnabled = localStorage.getItem("notifications") !== "false"

        // Set theme on load
        document.documentElement.setAttribute("data-theme", currentTheme)

        // Contact and content strings
        const contactString = `
        <div class='social'> 
          <a target='_blank' href='tel:+918668708877'> 
            <div class='socialItem' id='call'>
              <i class='fas fa-phone socialItemI'></i>
              <label class='number'>8668708877</label>
            </div> 
          </a> 
          <a href='mailto:sahh0700@gmail.com'> 
            <div class='socialItem'>
              <i class='fas fa-envelope socialItemI'></i>
              <span>Email</span>
            </div> 
          </a> 
          <a target='_blank' href='https://wa.me/918668708877'> 
            <div class='socialItem'>
              <i class='fab fa-whatsapp socialItemI'></i>
              <span>WhatsApp</span>
            </div> 
          </a> 
          <a target='_blank' href='https://instagram.com/harshvardhan_shah1'> 
            <div class='socialItem'>
              <i class='fab fa-instagram socialItemI'></i>
              <span>Instagram</span>
            </div> 
          </a> 
        </div>`

        const addressString = `
        <div class='mapview'>
          <iframe src='https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d2651.4986644068053!2d73.83881624529215!3d19.97552645113972!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sin!4v1744624001967!5m2!1sen!2sin' 
                 width='600' height='450' style='border:0;' allowfullscreen='' loading='lazy' 
                 referrerpolicy='no-referrer-when-downgrade' class='map'></iframe>
        </div>
        <label class='add'>
          <address>Jail Road<br>Bytco<br>Nashik, Maharashtra, INDIA 422101</address>
        </label>`

        // Initialize the chat
        function startFunction() {
          setLastSeen()
          setTimeout(() => {
            hideWelcomeMessage()
            waitAndResponce("intro")
          }, 2000)
        }

        function hideWelcomeMessage() {
          const welcomeMsg = document.getElementById("welcomeMessage")
          if (welcomeMsg) {
            welcomeMsg.style.display = "none"
          }
        }

        function setLastSeen() {
          const date = new Date()
          const lastSeen = document.getElementById("lastseen")
          if (lastSeen) {
            lastSeen.innerText = "last seen today at " + date.getHours() + ":" + String(date.getMinutes()).padStart(2, "0")
          }
        }

        // Full screen profile picture functions
        function closeFullDP() {
          const x = document.getElementById("fullScreenDP")
          if (x) {
            x.style.display = "none"
          }
        }

        function openFullScreenDP() {
          const x = document.getElementById("fullScreenDP")
          if (x) {
            x.style.display = "flex"
          }
        }

        // Message handling
        function isEnter(event) {
          if (event.keyCode === 13) {
            sendMsg()
          }
        }

        function sendMsg() {
          const input = document.getElementById("inputMSG")
          if (!input) return

          const ti = input.value.trim()
          if (ti === "") {
            return
          }

          const date = new Date()
          const myLI = document.createElement("li")
          const myDiv = document.createElement("div")
          const greendiv = document.createElement("div")
          const dateLabel = document.createElement("label")

          dateLabel.innerText = date.getHours() + ":" + String(date.getMinutes()).padStart(2, "0")
          myDiv.setAttribute("class", "sent")
          greendiv.setAttribute("class", "green")
          dateLabel.setAttribute("class", "dateLabel")
          greendiv.innerHTML = ti

          myDiv.appendChild(greendiv)
          myLI.appendChild(myDiv)
          greendiv.appendChild(dateLabel)

          const listUL = document.getElementById("listUL")
          if (listUL) {
            listUL.appendChild(myLI)
          }

          scrollToBottom()
          showTypingIndicator()
          setTimeout(() => {
            waitAndResponce(ti)
          }, 1500)
          input.value = ""
          playSound()
        }

        function sendQuickMessage(message) {
          const input = document.getElementById("inputMSG")
          if (input) {
            input.value = message
            sendMsg()
          }
        }

        function showTypingIndicator() {
          const lastSeen = document.getElementById("lastseen")
          const typingIndicator = document.getElementById("typingIndicator")

          if (lastSeen) {
            lastSeen.innerText = "typing..."
          }
          if (typingIndicator) {
            typingIndicator.style.display = "flex"
          }
          scrollToBottom()
        }

        function hideTypingIndicator() {
          const typingIndicator = document.getElementById("typingIndicator")
          if (typingIndicator) {
            typingIndicator.style.display = "none"
          }
          setLastSeen()
        }

        function waitAndResponce(inputText) {
          showTypingIndicator()

          setTimeout(() => {
            hideTypingIndicator()

            switch (inputText.toLowerCase().trim()) {
              case "intro":
                sendTextMessage(
                  "Hi there! üëãüèª <br><br>My name is <span class='bold'><a class='alink'>Harshvardhan Shah</a>.</span><br><br>I am an Electronics Engineering student at <span class='bold'>K. K. Wagh Institute üë®üèª‚Äçüíªüìö</span><br><br>I am eager to hear about potential career opportunities, so I would be pleased to chat about job openings in the engineering sphere.<br><br>Send <span class='bold'>'help'</span> to know more about me.<br>",
                )
                break

              case "help":
                sendTextMessage(
                  "<span class='sk'>Send a keyword to get what you want to know about me...<br><br>Available commands:<br><span class='bold'>'skills'</span> - to know my technical skills<br><span class='bold'>'resume'</span> - to get my resume<br><span class='bold'>'education'</span> - to get my education details<br><span class='bold'>'address'</span> - to get my location<br><span class='bold'>'contact'</span> - to get ways to connect with me<br><span class='bold'>'projects'</span> - to get details of my projects<br><span class='bold'>'about'</span> - to know about this portfolio<br><span class='bold'>'clear'</span> - to clear conversation</span>",
                )
                break

              case "resume":
                sendTextMessage(`
                            You want to check my Resume? Then just jump into my Resume.<br><br>
                            <div class='social'>
                              <a target='_blank' href='https://harshvardhanshah.ct.ws/?i=1'>
                                <button style="padding: 12px 24px; background-color: #25d366; color: white; border: none; border-radius: 25px; font-size: 16px; cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 10px rgba(37, 211, 102, 0.3);">
                                  üìÑ View My Resume
                                </button>
                              </a>
                            </div>
                        `)
                break

              case "skills":
                sendTextMessage(`
                            <span class='sk'>
                              Hey! üëã<br><br>
                          
                              I am <span class='bold'>Harshvardhan Shah</span> and I'm currently pursuing a <span class='bold'>B.Tech degree in Electronics Engineering</span>.<br><br>
                          
                              üíª <span class='bold'>Programming Languages:</span><br>
                              Java ‚Ä¢ C++ ‚Ä¢ C ‚Ä¢ PHP ‚Ä¢ Python ‚Ä¢ CSS ‚Ä¢ HTML<br><br>
                          
                              üöÄ <span class='bold'>Frameworks & Technologies:</span><br>
                              React.js ‚Ä¢ Web Development<br><br>
                          
                              üîß <span class='bold'>My Development Experience:</span><br>
                              üîπ Building secure web tools using <span class='bold'>AES & RSA cryptography</span><br>
                              üîπ Working on advanced <span class='bold'>image & video steganography</span> dashboards<br>
                              üîπ Developed <span class='bold'>real-time chat apps</span> with WhatsApp-style UI and features<br>
                              üîπ Created <span class='bold'>IoT dashboards</span> with ESP32, ESP8266, and sensor integration<br>
                              üîπ Built <span class='bold'>student attendance managers</span> with proof uploads & reward systems<br>
                              üîπ Experience in <span class='bold'>network tools</span> like IP scanners with web interfaces<br>
                              üîπ Love creating clean, responsive UIs with <span class='bold'>dark/light mode support</span><br><br>
                          
                              Always exploring, always building. Let's make magic with code! üöÄ‚ú®
                            </span>
                        `)
                break

              case "education":
                sendTextMessage(`
                            <span class='sk'>
                              üéì <span class='bold'>Education Background</span><br><br>
                          
                              üìç <span class='bold'>B.Tech in Electronics Engineering</span><br>
                              K.K. Wagh Institute of Engineering Education and Research, Nashik<br>
                              <span class='bold'>Expected Graduation:</span> 2027<br><br>
                              
                              üìö <span class='bold'>Key Subjects:</span><br>
                              ‚Ä¢ Digital Electronics<br>
                              ‚Ä¢ Microprocessors & Microcontrollers<br>
                              ‚Ä¢ Communication Systems<br>
                              ‚Ä¢ Signal Processing<br>
                              ‚Ä¢ Embedded Systems<br>
                            </span>
                        `)
                break

              case "address":
                sendTextMessage(addressString)
                break

              case "clear":
                clearChat()
                break

              case "about":
                sendTextMessage(`
                            üëã Hey there! I'm <span class='bold'>Harshvardhan Shah</span> ‚Äî a passionate tech enthusiast skilled in <span class='bold'>Electronics & Telecommunication, AutoCAD, 3D Printing, Laser Cutting, and Web Development</span>.<br><br>
                            
                            üöÄ I've developed a strong foundation in <span class='bold'>learning, problem-solving, and innovation</span>. Guided by incredible mentors, my journey blends <span class='bold'>creativity and engineering</span> to build real-world solutions that make an impact.<br><br>
                            
                            üí° Whether it's coding, designing, or prototyping ‚Äî I love turning ideas into reality. I'm always curious, always learning, and always exploring new technologies to create something meaningful.<br><br>
                            
                            üåü This interactive portfolio chat was built to showcase my skills in a fun, engaging way!
                        `)
                break

              case "contact":
                sendTextMessage(contactString)
                break

              case "projects":
                sendTextMessage(`
                            You want to check my projects? Then just jump into my portfolio.<br><br>
                            <div class='social'>
                              <a target='_blank' href='https://harshvardhanshah.ct.ws/?i=1'>
                                <button style="padding: 12px 24px; background-color: #25d366; color: white; border: none; border-radius: 25px; font-size: 16px; cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 10px rgba(37, 211, 102, 0.3);">
                                  üöÄ View My Portfolio
                                </button>
                              </a>
                            </div>
                        `)
                break

              default:
                sendTextMessage(
                  "Hey I couldn't catch you... üò¢<br><br>Send <span class='bold'>'help'</span> to know more about available commands.<br><br>Or try these quick options:<br>‚Ä¢ skills<br>‚Ä¢ projects<br>‚Ä¢ contact<br>‚Ä¢ resume",
                )
                break
            }
          }, 2000)
        }

        function clearChat() {
          const listUL = document.getElementById("listUL")
          if (listUL) {
            listUL.innerHTML = ""
          }
          showToast("Chat cleared! üßπ")
          setTimeout(() => {
            waitAndResponce("intro")
          }, 1000)
        }

        function sendTextMessage(textToSend) {
          const date = new Date()
          const myLI = document.createElement("li")
          const myDiv = document.createElement("div")
          const greendiv = document.createElement("div")
          const dateLabel = document.createElement("label")

          dateLabel.setAttribute("id", "sentlabel")
          dateLabel.innerText = date.getHours() + ":" + String(date.getMinutes()).padStart(2, "0")
          myDiv.setAttribute("class", "received")
          greendiv.setAttribute("class", "grey")
          greendiv.innerHTML = textToSend

          myDiv.appendChild(greendiv)
          myLI.appendChild(myDiv)
          greendiv.appendChild(dateLabel)

          const listUL = document.getElementById("listUL")
          if (listUL) {
            listUL.appendChild(myLI)
          }

          scrollToBottom()
          playSound()
        }

        function scrollToBottom() {
          const s = document.getElementById("chatting")
          if (s) {
            s.scrollTop = s.scrollHeight
          }
        }

        function playSound() {
          if (notificationsEnabled) {
            // Create a simple beep sound
            try {
              const audioContext = new (window.AudioContext || window.webkitAudioContext)()
              const oscillator = audioContext.createOscillator()
              const gainNode = audioContext.createGain()

              oscillator.connect(gainNode)
              gainNode.connect(audioContext.destination)

              oscillator.frequency.value = 800
              oscillator.type = "sine"

              gainNode.gain.setValueAtTime(0.3, audioContext.currentTime)
              gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1)

              oscillator.start(audioContext.currentTime)
              oscillator.stop(audioContext.currentTime + 0.1)
            } catch (e) {
              console.log("Audio not supported")
            }
          }
        }

        // Enhanced features
        function toggleTheme() {
          currentTheme = currentTheme === "light" ? "dark" : "light"
          document.documentElement.setAttribute("data-theme", currentTheme)
          localStorage.setItem("theme", currentTheme)

          const themeIcon = document.getElementById("themeIcon")
          if (themeIcon) {
            themeIcon.className = currentTheme === "light" ? "fas fa-moon" : "fas fa-sun"
          }

          showToast(`Switched to ${currentTheme} mode! ${currentTheme === "dark" ? "üåô" : "‚òÄÔ∏è"}`)
        }

        function toggleAttachmentMenu() {
          const menu = document.getElementById("attachmentMenu")
          if (menu) {
            menu.style.display = menu.style.display === "none" ? "flex" : "none"
          }
        }

        function toggleEmojiPicker() {
          const picker = document.getElementById("emojiPicker")
          if (picker) {
            picker.style.display = picker.style.display === "none" ? "block" : "none"
          }
        }

        function addEmoji(emoji) {
          const input = document.getElementById("inputMSG")
          if (input) {
            input.value += emoji
            input.focus()
            toggleEmojiPicker()
          }
        }

        function toggleVoiceRecording() {
          showToast("Voice recording feature coming soon! üé§")
        }

        function downloadChat() {
          const listUL = document.getElementById("listUL")
          if (listUL) {
            const messages = listUL.innerText
            const blob = new Blob([messages], { type: "text/plain" })
            const url = URL.createObjectURL(blob)
            const a = document.createElement("a")
            a.href = url
            a.download = "chat-with-harshvardhan.txt"
            a.click()
            URL.revokeObjectURL(url)
            showToast("Chat downloaded! üì•")
          }
        }

        function shareProfile() {
          if (navigator.share) {
            navigator.share({
              title: "Harshvardhan Shah - Portfolio",
              text: "Check out Harshvardhan Shah's interactive portfolio!",
              url: window.location.href,
            })
          } else {
            navigator.clipboard.writeText(window.location.href)
            showToast("Portfolio link copied to clipboard! üìã")
          }
        }

        function toggleNotifications() {
          notificationsEnabled = !notificationsEnabled
          localStorage.setItem("notifications", notificationsEnabled)
          showToast(`Notifications ${notificationsEnabled ? "enabled" : "disabled"}! ${notificationsEnabled ? "üîî" : "üîï"}`)
        }

        function showToast(message) {
          const toast = document.getElementById("toast")
          if (toast) {
            toast.textContent = message
            toast.classList.add("show")
            setTimeout(() => {
              toast.classList.remove("show")
            }, 3000)
          }
        }

        // Close dropdowns when clicking outside
        document.addEventListener("click", (event) => {
          const attachmentMenu = document.getElementById("attachmentMenu")
          const emojiPicker = document.getElementById("emojiPicker")

          if (attachmentMenu && !event.target.closest(".attachment-btn")) {
            attachmentMenu.style.display = "none"
          }

          if (emojiPicker && !event.target.closest(".emoji-btn")) {
            emojiPicker.style.display = "none"
          }
        })

        // Initialize the chat when page loads
        window.addEventListener("load", () => {
          // Set theme icon based on current theme
          const themeIcon = document.getElementById("themeIcon")
          if (themeIcon) {
            themeIcon.className = currentTheme === "light" ? "fas fa-moon" : "fas fa-sun"
          }

          // Start the chat
          startFunction()
        })

        // Auto-resize input (if needed)
        document.addEventListener("DOMContentLoaded", () => {
          const input = document.getElementById("inputMSG")
          if (input) {
            input.addEventListener("input", function () {
              this.style.height = "auto"
              this.style.height = this.scrollHeight + "px"
            })
          }
        })
    </script>
</body>
</html>
